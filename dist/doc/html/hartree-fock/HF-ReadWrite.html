<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>HF.ReadWrite</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_HF-ReadWrite.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">hartree-fock-0.1.0.0: An implementation of the Hartree-Fock method</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Copyright (c) David Schlegel</td></tr><tr><th>License</th><td>BSD</td></tr><tr><th>Maintainer</th><td>David Schlegel</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>Haskell</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">HF.ReadWrite</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Read</a><ul><li><a href="#g:2">Basis set data</a></li><li><a href="#g:3">Geometry</a></li></ul></li><li><a href="#g:4">Write</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>In <a href="ReadWrite.html">ReadWrite</a> important functions are provided to</p><ul><li>Read input (Geometry information, Basis set information) and convert to internal datastructures, provided in <a href="Data.html">Data</a></li><li>Write output (Geometry, structure and basis set information)</li></ul></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:generateFile">generateFile</a> :: [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>] -&gt; [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>] -&gt; [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>] -&gt; <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a>, <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a>, <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a>, <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/process-1.2.3.0/System-Process.html#t:ProcessHandle">ProcessHandle</a>)</li><li class="src short"><a href="#v:getAtomData">getAtomData</a> :: [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>] -&gt; <a href="HF-Data.html#t:Atom">Atom</a></li><li class="src short"><a href="#v:getgeom">getgeom</a> :: [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>] -&gt; [([<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>], Vector <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a>)]</li><li class="src short"><a href="#v:constr_set_from_file">constr_set_from_file</a> :: [([<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>], Vector <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a>)] -&gt; [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>] -&gt; <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:get_mol_from_files">get_mol_from_files</a> :: [([<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>], Vector <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a>)] -&gt; [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>] -&gt; [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>] -&gt; <a href="HF-Data.html#t:Mol">Mol</a></li><li class="src short"><a href="#v:molInfoPrint">molInfoPrint</a> :: <a href="HF-Data.html#t:Mol">Mol</a> -&gt; <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:molGeomPrint">molGeomPrint</a> :: <a href="HF-Data.html#t:Mol">Mol</a> -&gt; <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-String.html#t:String">String</a></li></ul></div><div id="interface"><h1 id="g:1">Read</h1><h2 id="g:2">Basis set data</h2><div class="doc"><p>Basis set data can be read using the <a href="https://bse.pnl.gov/bse">EMSL</a> database.  This is currently done by using the <a href="https://github.com/TApplencourt/EMSL_Basis_Set_Exchange_Local">EMSL_Basis_Set_Exchange_Local Python API</a>.</p><p><strong>Create a <code><a href="HF-Data.html#t:Mol">Mol</a></code> from basis set files:</strong></p><p>Assuming we have a basis set file &quot;C_STO_3G.dat&quot; (created with <code><a href="HF-ReadWrite.html#v:generateFile">generateFile</a></code>), we can construct a <code><a href="HF-Data.html#t:Mol">Mol</a></code> datastructure by</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let carbon = Mol &quot;SINGLE-Carbon&quot; [(getAtomData &quot;C_STO_3G.dat&quot;, fromList [1,0,0])]
</code></strong></pre></div><div class="top"><p class="src"><a name="v:generateFile" class="def">generateFile</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>]</td><td class="doc"><p>basis, eg. &quot;STO-6G&quot;&quot;</p></td></tr><tr><td class="src">-&gt; [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>]</td><td class="doc"><p>elementsymbol, eg. &quot;C&quot;</p></td></tr><tr><td class="src">-&gt; [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>]</td><td class="doc"><p>output filename</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a>, <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a>, <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-IO-Handle.html#t:Handle">Handle</a>, <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/process-1.2.3.0/System-Process.html#t:ProcessHandle">ProcessHandle</a>)</td><td class="doc"><p>output file is saved to <code> EMSL_Basis_Set_Exchange_Local/data/ </code></p></td></tr></table></div><div class="doc"><p>Generates a file with orbital data from the <a href="https://github.com/TApplencourt/EMSL_Basis_Set_Exchange_Local">EMSL_Basis_Set_Exchange_Local Python API</a>. </p><p>Therefore the EMSL_Basis_Set_Exchange_Local folder has to be in the same working directory as from which this program is beeing executed.</p><p>NOTE: Not for every basis type and element a basis set exists. For a list of possible Atoms for a given basis type, run </p><pre> ./EMSL_api.py list_atoms --basis=&lt;basistype&gt;</pre><p>Example:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>generateFile &quot;STO-3G&quot; &quot;C&quot; &quot;C_STO_3G.dat&quot;
</code></strong></pre></div></div><div class="top"><p class="src"><a name="v:getAtomData" class="def">getAtomData</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>]</td><td class="doc"><p>filename of the file where the basis set for a certain element is stored</p></td></tr><tr><td class="src">-&gt; <a href="HF-Data.html#t:Atom">Atom</a></td><td class="doc"><p>Atom datastructure</p></td></tr></table></div><div class="doc"><p>Reads basis set data from a file into <code><a href="HF-Data.html#t:Atom">Atom</a></code> datastructure.</p><p>For creating a basis set file, see <code><a href="HF-ReadWrite.html#v:generateFile">generateFile</a></code>.</p><p>NOTE: The basis set file has to exist before executing this function.</p><p>Example:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getAtomData &quot;C_STO_3G.dat&quot;
</code></strong></pre></div></div><h2 id="g:3">Geometry</h2><div class="doc"><p>To provide geometry information, it might be useful to read geometry information from an external file, which was created by another programm (e.g. Molden, for which it has been tested). 
This makes it easy to design a geometric structure with preguessed bond lengths and dihedral angles, etc.</p><p><strong>Examplary procedure</strong> to integrate external geometry into a <code><a href="HF-Data.html#t:Mol">Mol</a></code> datastructure:</p><p>Suppose, we have a file &quot;CO2.xyz&quot; containing the cartesian geometric information.</p><ul><li>Read the geometry information, using <code><a href="HF-ReadWrite.html#v:getgeom">getgeom</a></code>:</li></ul><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let list = getgeom &quot;CO2.xyz&quot;
</code></strong></pre><ul><li>With <code><a href="HF-ReadWrite.html#v:constr_set_from_file">constr_set_from_file</a></code>, construct basis set data for the different elements which will be saved to files:</li></ul><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>constr_set_from_file list &quot;STO-6G&quot;
</code></strong></pre><ul><li>With <code><a href="HF-ReadWrite.html#v:get_mol_from_files">get_mol_from_files</a></code>, read the basis set data to construct the complete molecule:</li></ul><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let mol = get_mol_from_files list &quot;STO-6G&quot; &quot;CO2&quot;
</code></strong></pre></div><div class="top"><p class="src"><a name="v:getgeom" class="def">getgeom</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>]</td><td class="doc"><p>directory</p></td></tr><tr><td class="src">-&gt; [([<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>], Vector <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a>)]</td><td class="doc"><p>List with element symbols and corresponding position vectors</p></td></tr></table></div><div class="doc"><p>Reads a file containing geometry information and outputs a list of element symbols, e.g. &quot;C&quot; with corresponding positions.</p><p>Especially nice, when creating the geometry with a different programm, e.g. Molden.</p><p>NOTE: The file should have the cartesian XYZ-file format that is used in Molden.</p></div></div><div class="top"><p class="src"><a name="v:constr_set_from_file" class="def">constr_set_from_file</a> :: [([<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>], Vector <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a>)] -&gt; [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>] -&gt; <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>For a list of element symbols with corresponding positions (<code>[([Char], Vector Double)]</code>) and a given basis set, e.g. &quot;STO-3G&quot;, save basis set data to multiple files.</p><p>IMPORTANT: The files are saved in the format <code>&lt;basis&gt;_&lt;element_name&gt;.dat</code>.</p><p>To construct a list of element symbols with corresponding positions (<code>[([Char], Vector Double)]</code>) from a file, see <code><a href="HF-ReadWrite.html#v:getgeom">getgeom</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:get_mol_from_files" class="def">get_mol_from_files</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [([<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>], Vector <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a>)]</td><td class="doc"><p>list of element symbols with corresponding positions</p></td></tr><tr><td class="src">-&gt; [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>]</td><td class="doc"><p>basis set name, eg. &quot;STO-3G&quot;</p></td></tr><tr><td class="src">-&gt; [<a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Char.html#t:Char">Char</a>]</td><td class="doc"><p>molname, eg. &quot;CO2&quot;</p></td></tr><tr><td class="src">-&gt; <a href="HF-Data.html#t:Mol">Mol</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>For a list of element symbols with corresponding positions a given basis set and a molecule name, <strong>read the existing basis set files</strong> (which can be created by using <code><a href="HF-ReadWrite.html#v:constr_set_from_file">constr_set_from_file</a></code>) and construct a <code><a href="HF-Data.html#t:Mol">Mol</a></code> datastructure. NOTE the difference between this function and <code><a href="HF-ReadWrite.html#v:constr_set_from_file">constr_set_from_file</a></code>!</p></div></div><h1 id="g:4">Write</h1><div class="top"><p class="src"><a name="v:molInfoPrint" class="def">molInfoPrint</a> :: <a href="HF-Data.html#t:Mol">Mol</a> -&gt; <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-String.html#t:String">String</a></p><div class="doc"><p>Show all Important Information about a given Mol datatype.</p><p><strong>Output:</strong> </p><p>Molecule Name</p><p>Number of Atoms</p><p>For each Atom:</p><ul><li>Atomname</li><li>Number of Orbitals</li><li>contracted set descriptions</li><li>geometry</li></ul><p><strong>Usage Examples:</strong></p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let mol = Mol &quot;SINGLE-Carbon&quot; [(getAtomData &quot;C_STO_3G.dat&quot;, fromList [1,0,0])]
</code></strong></pre><ul><li>Normal output: </li></ul><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>putStrLn $ molInfoprint mol
</code></strong>Molecule name:   SINGLE-Carbon
Number of Atoms:  1
	Atom:    CARBON
	 	 Number of Orbitals:	3
	 	 contracted sets:	[(&quot;S&quot;,3),(&quot;S&quot;,3),(&quot;P&quot;,3)]
	 	 geometry:	 	[1.0,0.0,0.0]
</pre><ul><li>Save output to file:</li></ul><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>writeFile filename $ molInfoPrint mol
</code></strong></pre></div></div><div class="top"><p class="src"><a name="v:molGeomPrint" class="def">molGeomPrint</a> :: <a href="HF-Data.html#t:Mol">Mol</a> -&gt; <a href="file:///opt/ghc/7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-String.html#t:String">String</a></p><div class="doc"><p>Show atoms with corresponding positions
Especially useful for viewing the molecule in a different graphical program, s.a. molden</p><p><strong>Usage:</strong></p><ul><li>Normal output: </li></ul><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>putStrLn $ molGeomprint mol
</code></strong>    1
 C	1.000000	0.000000	0.000000
</pre><ul><li>Save output to file:</li></ul><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>writeFile filename $ molGeomPrint mol
</code></strong></pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>